<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<style>
  .eBayLogo {
    display:flex;
    justify-content:center;
  }
  .inputForm {
    display:block;
    margin:0 auto;
  }
  a {
    color:#1771d1;
  }
  a:hover{
    color:blue;
  }

</style>

<div *ngIf="!isSmallScreen" class =eBayLogo id = eBayLogo>
  <img src="assets/ebayHome.png" width = "250" alt="eBayLogo" style="margin-top:15px"/>
</div>
<div *ngIf="isSmallScreen" class =eBayLogo id = eBayLogo>
  <img src="assets/ebayHome.png" alt="eBayLogo" style="margin-top:15px;max-width:90%"/>
</div>

<!--div class=inputForm id = inputForm-->
<form class="mx-auto" [formGroup]="inputForm"  (ngSubmit)="onSubmit()">
  <div  class="form-group row mx-auto justify-content-center ">
    <label for="keyword" class=" col-sm-1 text-left mr-sm-1 mt-sm-2"><b class="text-nowrap">Key words<span style="color:red">*</span></b></label>
    <div  class="col-sm-6">
      <input formControlName="inputKeyword" type="text"   id = "keyword" class="form-control" id="inputKeyword" placeholder="Enter keywords" >
      </div>

    </div>
    <div class="form-group row mx-auto justify-content-center">
      <label for ="price" class="col-sm-1 text-left mr-sm-1 "><b class="text-nowrap">Price Range</b></label>
      <div class="form-row col-sm-6 ml-sm-2 pl-sm-2 pr-sm-4" style="flex-wrap:nowrap">
      <div class="col-sm pl-sm-0 pr-sm-3">
        <input formControlName="minPrice" type="number" id ="pricelow" class="form-control" placeholder="Min Price">
      </div>
      <div class="col-sm pr-sm-0 pl-sm-3 pr-sm-0">
        <input formControlName="maxPrice" type="number" id = "pricehigh" class="form-control" placeholder="Max Price">
      </div>
      </div>
    </div>

    <div class="form-group row mx-auto justify-content-center">
      <label for="condition" class=" col-sm-1 text-left mr-sm-1"><b class="text-nowrap">Condition</b></label>
      <div class="col-sm-6 ">
        <div class="form-check-inline mr-xs-0">
          <label class="form-check-inline mr-1">
            <input formControlName="newC" type="checkbox" id = "new" class="form-check-input"><b class="text-nowrap">New</b></label>
        <!--/div>
        <!--div class="form-check-inline ml-xs-0 mr-xs-0"-->
          <label class="form-check-inline mr-1">
            <input formControlName="used" type="checkbox" id = "used" class="form-check-input"><b class="text-nowrap">Used</b></label>
        <!--/div-->
        <!--div class="form-check-inline ml-xs-0 mr-xs-0"-->
          <label class="form-check-inline mr-1">
            <input formControlName="verygood" type="checkbox" id = "verygood" class="form-check-input"><b class="text-nowrap">Very Good</b></label>
        <!--/div-->
        <!--div class="form-check-inline ml-xs-0 mr-xs-0"-->
          <label class="form-check-inline mr-1">
            <input formControlName="good" type="checkbox" id = "good" class="form-check-input"><b class="text-nowrap">Good</b></label>
        <!--/div-->
        <!--div class="form-check-inline ml-xs-0 mr-xs-0"-->
          <label class="form-check-inline mr-1">
            <input formControlName="acceptable" type="checkbox" id = "acceptable" class="form-check-input"><b class="text-nowrap">Acceptable</b></label>
        </div>
        </div>
    </div>

    <div class="form-group row mx-auto justify-content-center">
      <label for="seller" class="col-sm-1 text-left  mr-sm-1 "><b class="text-nowrap">Seller</b></label>
      <div class="col-sm-6 ">
        <div class="form-check-inline">
          <label class="form-check-inline">
            <input formControlName="returnOnly" type="checkbox" id = "return" class="form-check-input"><b class="text-nowrap">Return Accepted</b></label>
        </div>
    </div>
    </div>
    <div class="form-group row mx-auto justify-content-center">
      <label for="shipping" class="col-sm-1 text-left  mr-sm-1 "><b class="text-nowrap">Shipping</b></label>
      <div class="col-sm-6">
        <div class="form-check-inline mr-sm-0">
          <label class="form-check-inline mr-1">
            <input formControlName="free" type="checkbox" id = "free" class="form-check-input"><b class="text-nowrap">Free</b></label>
        <!--/div-->
        <!--div class="form-check-inline ml-sm-0"-->
          <label class="form-check-inline">
            <input formControlName="expedited" type="checkbox" id = "expedited" class="form-check-input"><b class="text-nowrap">Expedited</b></label>
        </div>
    </div>
    </div>

    <div class="form-group row mx-auto justify-content-center">
      <label for="sortOrder" class=" col-sm-1 text-left mr-sm-1 mt-sm-2"><b class="text-nowrap">Sort Order</b></label>
      <div class="col-sm-6">
      <select formControlName= "sortby" id = "sortby" class="form-control ">
        <option value = "BestMatch" selected>BestMatch</option>
        <option value ="CurrentPriceHighest">CurrentPriceHighest</option>
        <option value= "PricePlusShippingHighest">PricePlusShippingHighest</option>
        <option value = "PricePlusShippingLowest">PricePlusShippingLowest</option>
      </select>
    </div>
    </div>

    <div class="form-group row mx-auto justify-content-center">
    <div class="col-sm-1"> </div>
    <div class="col-sm-6 row  justify-content-end" style="flex-wrap:nowrap" >
    <div class="col-auto pl-sm-0 pr-0">
    <button id ="search" type="submit" class=" btn btn-sm btn-primary mb-sm-2 "><mat-icon style="vertical-align:bottom">search</mat-icon><span >Search</span></button>
    </div>
    <div class="col-auto pr-sm-0 pl-2 pr-0 ">
    <button id="clear" type="button" class="btn  btn-sm btn-secondary mb-sm-2" (click)="reset()"><mat-icon style="vertical-align:bottom">clear_all</mat-icon>Clear</button>
    </div>
    </div>
    </div>
  </form>

  <div *ngIf="isreset"></div>
  <div *ngIf="!isreset"  id ="alerts" class="col-sm-7 mx-auto" >
      <div *ngIf="inputForm.get('inputKeyword').invalid && isSubmitted" id ="keywordAlert" class="alert alert-warning text-dark text-center mb-2 nowrap" role="alert">
        <b class= "text-nowrap">Please enter a keyword</b>
      </div>
      <div *ngIf="priceWrong && isSubmitted" id="priceAlert" class="alert alert-warning text-dark text-center mb-2 nowrap px-0" role="alert">
        <b class= "text-nowrap">Please use appropriate values for minPrice/maxPrice</b>
      </div>
      <div *ngIf="noResult && isSubmitted" id="resultAlert" class="alert alert-warning text-dark text-center mb-2 nowrap" role="alert">
        <b class= "text-nowrap">No exact matches found</b>
      </div>

  </div>

  <br>
  <div *ngIf ="isreset||priceWrong || inputForm.get('inputKeyword').invalid || noResult" ></div>
  <div *ngIf = "!isreset && !priceWrong && !inputForm.get('inputKeyword').invalid &&!noResult">
  <div *ngIf="isLoaded && !noResult && !isSmallScreen" id="resultTitle" class="row no-gutters col-md-8 mx-auto px-sm-0 mt-sm-6 mb-sm-0 pb-0" style="flex-wrap:nowrap">
    <h2 class = "col-md-5 px-0 mx-0">Results for {{inputForm.get('inputKeyword').value}}</h2>
    <div class="flex justify-content-center   col-auto">
    <!--pagination-controls  *ngIf="isSmallScreen" (pageChange)="p=$event" maxSize = "5" previousLabel="Previous" nextLabel = "Next" class=" text-center text-nowrap" >

     </pagination-controls-->
     <pagination-controls  *ngIf="!isSmallScreen" (pageChange)="p=$event" maxSize = "10" previousLabel="Previous" nextLabel = "Next" class=" py-0 mb-0 col-md-7  text-left text-nowrap" >

      </pagination-controls>
  </div>
  </div>
  <div *ngIf="isLoaded && !noResult && isSmallScreen" id="resultTitle" class="col-12  mt-sm-6 mb-sm-0 pb-0">
    <h2 class = "col-sm-5 px-0 mx-0">Results for {{inputForm.get('inputKeyword').value}}</h2>
    <div class=" flex justify-content-center  col-auto row no-gutters">
    <pagination-controls  *ngIf="isSmallScreen" (pageChange)="p=$event" maxSize = "5" previousLabel="Previous" nextLabel = "Next" class=" text-center text-nowrap" >

     </pagination-controls>
     <!--pagination-controls  *ngIf="!isSmallScreen" (pageChange)="p=$event" maxSize = "10" previousLabel="Previous" nextLabel = "Next" class=" py-0 mb-0 col-sm-6  text-center text-nowrap" >

      </pagination-controls-->
  </div>
  </div>
  <div *ngFor="let result of searchResult| paginate: {itemsPerPage:5,currentPage:p}; index as i" class="col-sm-10 mx-auto">
    <div class="card col-sm-10 mx-auto mt-0 mb-2" style="background-color:#d1d1d1" >
      <div class="card-body px-0 ">
      <div class="row">
      <div class ="col-sm-3 px-0 pb-0 mx-0 mt-0 d-flex h-50 justify-content-center ">
      <img calss=".img-fluid " src={{result.imageURL}} alt="crash" style="max-width:80%;max-height:80%">
      </div>
      <div class ="col-sm-9 pl-sm-2 pt-2 pb-0 my-0 mx-0">
        <a href = {{result.productURL}} target='_blank' ><h2 class="card-title" style = "line-height:20px">{{result.title}}</h2></a>
        <p class ="card-text"> <b>Price: </b> <span>${{result.price}}</span>
        <br> <i>{{result.location}}        </i>
        <span>
          <button type="button" data-toggle="collapse" [attr.data-target]="'#col-'+i" [attr.aria-expanded]="false" [attr.aria-controls]="'col-'+i" class= "btn btn-light btn-sm mx-2" (click)="expandToggle(i)">
            <span [hidden] ="!ishidden[i]">Show Details</span>
            <span [hidden]= "ishidden[i]">Hide Details</span>
          </button></span>

        <!--span> <button type="button" (click) ="expandToggle()">Show Details</button></span-->
        </p>

        <div  class="collapse col-12" [attr.id]="'col-'+i">
          <mat-tab-group  [selectedIndex]="0" mat-align-tabs="start" dynamicHeight #tabs >
            <mat-tab label="Basic Info" [attr.id]= "'tabm-'+i" >
              <div class="row px-2 py-2" style="flex-wrap:nowrap">

              <div *ngIf="!isSmallScreen" class = "col-md-3 pr-0 mr-0 text-left">
              <p><b class="text-nowarp">Category Name </b></p>
              </div>
              <div *ngIf="isSmallScreen" class = "col-5 pr-0   text-left">
                <p><b class="text-nowarp">Category Name </b></p>
              </div>

                <div *ngIf="!isSmallScreen" class ="col-md-9 text-left pl-0 pr-0 ml-0 text-nowrap">
                <p class="text-nowrap">{{result.category}}</p>
              </div>
              <div *ngIf="isSmallScreen" class = "col-7 text-left pr-0 pl-0 ml-0 text-nowrap">
                <p class="text-nowrap">{{result.category}}</p>
              </div>
              </div>
              <div class="row px-2 py-2" style="flex-wrap:nowrap">
              <div *ngIf="!isSmallScreen" class="col-md-3 pr-0" >
              <p><b>Condition </b></p>
         </div>
         <div *ngIf="isSmallScreen" class="col-5 pr-0 text-left" >
         <p><b class= "text-nowrap">Condition </b></p>
    </div>
         <div *ngIf="!isSmallScreen" class="col-md-9 text-left pl-0 ml-0">
           <p class= "text-nowrap"> {{result.condition}}</p>
           </div>
           <div *ngIf="isSmallScreen" class="col-7 text-left pr-0 pl-0 ml-0">
             <p class= "text-nowrap">{{result.condition}}</p>
             </div>
        </div>
        </mat-tab>
        <mat-tab label="Shipping Info">
          <div class="row px-2 py-2" style="flex-wrap:nowrap">
          <div *ngIf="!isSmallScreen" class = "col-md-5 pr-0 mr-0">
          <p><b class= "text-nowrap">ShippingType </b></p>
          </div>
          <div *ngIf="isSmallScreen" class = "col-8 pr-0 mr-0">
          <p><b class= "text-nowrap">ShippingType </b></p>
          </div>
          <div *ngIf="!isSmallScreen" class = "col-md-auto text-left pl-0 ml-0">
            <p class= "text-nowrap">{{result.shippingType}}</p>
          </div>
          <div *ngIf="isSmallScreen" class = "col-4 text-left pl-0 ml-0">
            <p class= "text-nowrap">{{result.shippingType}}</p>
          </div>

          </div>
          <div class="row px-2 py-2" style="flex-wrap:nowrap">
          <div *ngIf="!isSmallScreen" class="col-md-5 pr-0 mr-0" >
          <p><b class= "text-nowrap">Shipping cost </b></p>
     </div>
     <div *ngIf="isSmallScreen" class="col-8 pr-0 mr-0" >
     <p><b class= "text-nowrap">Shipping cost </b></p>
</div>
     <div *ngIf="!isSmallScreen" class="col-md-auto text-left pl-0 ml-0">
       <p class= "text-nowrap">{{result.shippingCost}}</p>
       </div>
       <div *ngIf="isSmallScreen" class="col-4 text-left pl-0 ml-0">
         <p class= "text-nowrap">{{result.shippingCost}}</p>
         </div>
    </div>

    <div class="row px-2 py-2" style="flex-wrap:nowrap">
    <div *ngIf="!isSmallScreen" class="col-md-5 pr-0 mr-0" >
    <p><b class= "text-nowrap">Shiptolocations </b></p>
</div>
<div *ngIf="isSmallScreen" class="col-8 pr-0 mr-0" >
<p><b class= "text-nowrap">Shiptolocations </b></p>
</div>
<div *ngIf="!isSmallScreen" class="col-md-auto text-left pl-0 ml-0">
 <p class = "text-nowrap">{{result.shipToLocation}}</p>
 </div>
 <div *ngIf="isSmallScreen" class="col-4 text-left pl-0 ml-0">
  <p class = "text-nowrap">{{result.shipToLocation}}</p>
  </div>
</div>
<div class="row px-2 py-2" style="flex-wrap:nowrap">
<div *ngIf="!isSmallScreen" class="col-md-5 pr-0 mr-0" >
<p><b class = "text-nowrap">ExpeditedShipping </b></p>
</div>
<div *ngIf="isSmallScreen" class="col-8 pr-0 mr-0" >
<p><b class = "text-nowrap">ExpeditedShipping </b></p>
</div>
<div *ngIf="!isSmallScreen" class="col-md-auto text-left pl-0 ml-0">
<p *ngIf="result.expeditedShipping=='true'"><mat-icon style="color:green">done</mat-icon> </p>
<p *ngIf="result.expeditedShipping=='false'"><mat-icon style="color:red">close</mat-icon></p>
</div>
<div *ngIf="isSmallScreen" class="col-4 text-left pl-0 ml-0">
<p *ngIf="result.expeditedShipping=='true'"><mat-icon style="color:green">done</mat-icon> </p>
<p *ngIf="result.expeditedShipping=='false'"><mat-icon style="color:red">close</mat-icon></p>
</div>
</div>
<div class="row px-2 py-2" style="flex-wrap:nowrap">
<div *ngIf="!isSmallScreen" class="col-md-5 nowrap mr-0 pr-0" >
<p><b class="text-nowrap">OneDayShippingAvailable </b></p>
</div>
<div *ngIf="isSmallScreen" class="col-8 nowrap mr-0 pr-0" >
<p><b class="text-nowrap">OneDayShippingAvailable </b></p>
</div>
<div *ngIf="!isSmallScreen" class="col-md-auto text-left pl-0 ml-0">
<p *ngIf="result.oneDayShip=='true'"><mat-icon style="color:green">done</mat-icon> </p>
<p *ngIf="result.oneDayShip=='false'"><mat-icon style="color:red">close</mat-icon></p>
</div>
<div *ngIf="isSmallScreen" class="col-4 text-left pl-0 ml-0">
<p *ngIf="result.oneDayShip=='true'"><mat-icon style="color:green">done</mat-icon> </p>
<p *ngIf="result.oneDayShip=='false'"><mat-icon style="color:red">close</mat-icon></p>
</div>
</div>
        </mat-tab>
        <mat-tab label="Listing info">
          <div class="row px-2 py-2" style="flex-wrap:nowrap">
          <div class = "col-md-4 pr-0">
          <p><b class = "text-nowrap">BestOfferEnabled </b></p>
          </div>
          <div class = "col-md-8 text-left pl-0 ml-0">
            <p *ngIf="result.bestOffer=='true'"><mat-icon style="color:green">done</mat-icon> </p>
            <p *ngIf="result.bestOffer=='false'"><mat-icon style="color:red">close</mat-icon></p>
          </div>

          </div>
          <div class="row px-2 py-2" style="flex-wrap:nowrap">
          <div class="col-md-4 pr-0" >
          <p><b class = "text-nowrap">BuyItNowAvailable </b></p>
     </div>
     <div class="col-md-2 text-left pl-0 ml-0">

       <p *ngIf="result.buyItNow=='true'"><mat-icon style="color:green">done</mat-icon> </p>
       <p *ngIf="result.buyItNow=='false'"><mat-icon style="color:red">close</mat-icon></p>
       </div>
    </div>
    <div class="row px-2 py-2" style="flex-wrap:nowrap">
    <div class="col-md-4 pr-0" >
    <p><b class = "text-nowrap">ListingType </b></p>
</div>
<div class="col-md-4 text-left pl-0 ml-0">
 <p class = "text-nowrap">{{result.listType}}</p>
 </div>
</div>
<div class="row px-2 py-2" style="flex-wrap:nowrap">
<div class="col-md-4 pr-0" >
<p><b class = "text-nowrap">Gift </b></p>
</div>
<div class="col-md-2 text-left pl-0 ml-0">
<p *ngIf="result.gift=='true'"><mat-icon style="color:green">done</mat-icon> </p>
<p *ngIf="result.gift=='false'"><mat-icon style="color:red">close</mat-icon></p>
</div>
</div>
<div class="row px-2 py-2" style="flex-wrap:nowrap">
<div class="col-md-4 nowrap pr-0" >
<p><b class="text-nowrap">WatchCount </b></p>
</div>
<div class="col-md-2 text-left pl-0 ml-0">
<p class = "text-nowrap">{{result.watchCount}}</p>
</div>
</div>
        </mat-tab>
        </mat-tab-group>


        </div>

    <!--p> {{result.title}} <br> {{result.imageURL}} <br> {{result.price}} <br> {{result.location}} <br> {{result.category}}
    <br> {{result.condition}} <br> {{result.shippingType}} <br> {{result.shippingCost}} <br> {{result.shipToLocation}} <br>
     {{result.expeditedShipping}} <br> {{result.oneDayShip}} <br> {{result.bestOffer}} <br> {{result.buyItNow}} <br>
     {{result.listType}} <br> {{result.gift}} <br> {{result.watchCount}}</p-->
    </div>
</div>
  </div>
</div>
</div>

</div>







<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
